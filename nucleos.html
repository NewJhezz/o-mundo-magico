<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Varinhas | Wiki Harry Potter</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="./static/css/style.css">
</head>
<body>
    <div class="container">
        <header class="main-header">
            <h1>O Mundo MÃ¡gico</h1>
        </header>

        <main>
            
<div class="wands-section">
    <!-- NavegaÃ§Ã£o de Abas -->
    <nav class="tabs">
        <a href="./index.html" class="tab-link ">
            Madeiras
        </a>
        <a href="./nucleos.html" class="tab-link active">
            NÃºcleos
        </a>
    </nav>

    

    <!-- Toolbar de Filtros (Apenas para Madeiras por enquanto, ou adaptado) -->
    <div class="filter-toolbar animate-fade-in">
        

        <div class="filter-group">
            <span class="filter-label">Bruxo(a):</span>
            <select id="filterWizard" class="custom-select" onchange="updateView()">
                <option value="all">Todos</option>
                
                <option value="Albus Dumbledore">Albus Dumbledore</option>
                
                <option value="Antioch Peverell">Antioch Peverell</option>
                
                <option value="Bellatrix Lestrange">Bellatrix Lestrange</option>
                
                <option value="Cedric Diggory">Cedric Diggory</option>
                
                <option value="Draco Malfoy (Esp)">Draco Malfoy (Esp)</option>
                
                <option value="Garrick Ollivander">Garrick Ollivander</option>
                
                <option value="Gilderoy Lockhart">Gilderoy Lockhart</option>
                
                <option value="Harry Potter">Harry Potter</option>
                
                <option value="Hermione Granger">Hermione Granger</option>
                
                <option value="Lucius Malfoy">Lucius Malfoy</option>
                
                <option value="Minerva McGonagall">Minerva McGonagall</option>
                
                <option value="Neville Longbottom">Neville Longbottom</option>
                
                <option value="Remus Lupin">Remus Lupin</option>
                
                <option value="Ron Weasley">Ron Weasley</option>
                
                <option value="Rubeus Hagrid">Rubeus Hagrid</option>
                
                <option value="Tom Riddle (Lord Voldemort)">Tom Riddle (Lord Voldemort)</option>
                
            </select>
        </div>

        <div class="filter-group">
            <span class="filter-label">Classificar:</span>
            <select id="sortSelect" class="custom-select" onchange="updateView()">
                <option value="rank_desc">Raridade (Mais Raro)</option>
                <option value="rank_asc">Raridade (Mais Comum)</option>
                <option value="az">Nome (A-Z)</option>
                <option value="za">Nome (Z-A)</option>
            </select>
        </div>
    </div>

    <section id="woodsGrid" class="woods-grid animate-fade-in">
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card supreme" title="Clique para saber mais" data-name="Pena de FÃªnix"
            data-rank="6"
            data-affinity=""
            data-owner="Harry Potter, Lord Voldemort, Silvano Kettleburn"
            onclick='openModal({"badge": "S", "curiosity": "\u00c9 o n\u00facleo mais dif\u00edcil de dominar e escolher seu dono. Sua lealdade \u00e9 duramente conquistada.", "desc": "O tipo de n\u00facleo mais raro. Penas de f\u00eanix s\u00e3o capazes da maior variedade de magias, embora possam demorar mais do que as outras para revelar isso. Elas mostram mais iniciativa e s\u00e3o exigentes.", "icon": "\ud83d\udd25", "name": "Pena de F\u00eanix", "owner": "Harry Potter, Lord Voldemort, Silvano Kettleburn", "rank": 6, "rarity": "supreme", "skill": "Maior gama m\u00e1gica, Iniciativa pr\u00f3pria", "type": "Supremo"}, "Pena de FÃªnix")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Pena de FÃªnix</h3>
                <div class="rarity-badge">S</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸ”¥</span>
                
            </div>

            
            <div class="card-footer-type">
                Supremo
            </div>
            

        </div>
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card supreme" title="Clique para saber mais" data-name="Fibra de CoraÃ§Ã£o de DragÃ£o"
            data-rank="6"
            data-affinity=""
            data-owner="Hermione Granger, Bellatrix Lestrange, Viktor Krum, McGonagall"
            onclick='openModal({"badge": "S", "curiosity": "\u00c9 o n\u00facleo mais f\u00e1cil de se voltar para as Artes das Trevas, embora n\u00e3o se incline a isso por natureza.", "desc": "Fibras de cora\u00e7\u00e3o de drag\u00e3o produzem as varinhas mais poderosas. Elas aprendem mais r\u00e1pido que outros tipos. Podem mudar de lealdade se tomadas de seu mestre original.", "icon": "\ud83d\udc09", "name": "Fibra de Cora\u00e7\u00e3o de Drag\u00e3o", "owner": "Hermione Granger, Bellatrix Lestrange, Viktor Krum, McGonagall", "rank": 6, "rarity": "supreme", "skill": "Poder bruto, Feiti\u00e7os extravagantes", "type": "Supremo"}, "Fibra de CoraÃ§Ã£o de DragÃ£o")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Fibra de CoraÃ§Ã£o de DragÃ£o</h3>
                <div class="rarity-badge">S</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸ‰</span>
                
            </div>

            
            <div class="card-footer-type">
                Supremo
            </div>
            

        </div>
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card supreme" title="Clique para saber mais" data-name="Pelo de UnicÃ³rnio"
            data-rank="6"
            data-affinity=""
            data-owner="Ron Weasley, Neville Longbottom, Draco Malfoy"
            onclick='openModal({"badge": "S", "curiosity": "N\u00e3o produz as varinhas mais poderosas (embora a madeira possa compensar) e podem \"morrer\" se maltratadas.", "desc": "Produz a magia mais consistente e \u00e9 o menos sujeito a flutua\u00e7\u00f5es. Varinhas com este n\u00facleo s\u00e3o as mais fi\u00e9is e dif\u00edceis de corromper.", "icon": "\ud83e\udd84", "name": "Pelo de Unic\u00f3rnio", "owner": "Ron Weasley, Neville Longbottom, Draco Malfoy", "rank": 6, "rarity": "supreme", "skill": "Magia consistente, Lealdade extrema", "type": "Supremo"}, "Pelo de UnicÃ³rnio")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Pelo de UnicÃ³rnio</h3>
                <div class="rarity-badge">S</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸ¦„</span>
                
            </div>

            
            <div class="card-footer-type">
                Supremo
            </div>
            

        </div>
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card legendary" title="Clique para saber mais" data-name="Pelo de TestrÃ¡lio"
            data-rank="5"
            data-affinity=""
            data-owner="A Varinha das Varinhas (Dumbledore, Harry)"
            onclick='openModal({"badge": "L", "curiosity": "O n\u00facleo da varinha mais poderosa j\u00e1 criada (A Varinha das Varinhas).", "desc": "Uma subst\u00e2ncia inst\u00e1vel e complicada, que s\u00f3 pode ser dominada por um bruxo capaz de encarar a morte.", "icon": "\ud83d\udc80", "name": "Pelo de Testr\u00e1lio", "owner": "A Varinha das Varinhas (Dumbledore, Harry)", "rank": 5, "rarity": "legendary", "skill": "Poder Supremo, Morte", "type": "Lend\u00e1rio"}, "Pelo de TestrÃ¡lio")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Pelo de TestrÃ¡lio</h3>
                <div class="rarity-badge">L</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸ’€</span>
                
            </div>

            
            <div class="card-footer-type">
                LendÃ¡rio
            </div>
            

        </div>
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card legendary" title="Clique para saber mais" data-name="Chifre de Basilisco"
            data-rank="5"
            data-affinity=""
            data-owner="Salazar Slytherin"
            onclick='openModal({"badge": "L", "curiosity": "Varinhas com este n\u00facleo podem ser \"adormecidas\" ou \"despertadas\" por comandos em Ofidioglossia.", "desc": "Um n\u00facleo \u00fanico e perigoso, impregnado com a magia de uma das criaturas mais letais do mundo m\u00e1gico.", "icon": "\ud83d\udc0d", "name": "Chifre de Basilisco", "owner": "Salazar Slytherin", "rank": 5, "rarity": "legendary", "skill": "Ofidioglossia, Artes das Trevas", "type": "Lend\u00e1rio"}, "Chifre de Basilisco")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Chifre de Basilisco</h3>
                <div class="rarity-badge">L</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸ</span>
                
            </div>

            
            <div class="card-footer-type">
                LendÃ¡rio
            </div>
            

        </div>
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card epic" title="Clique para saber mais" data-name="Serpente Chifruda"
            data-rank="4"
            data-affinity=""
            data-owner="Isolt Sayre e muitos estudantes da Casa Serpente Chifruda"
            onclick='openModal({"badge": "E", "curiosity": "Excepcionalmente leal aos bruxos estudiosos e inteligentes.", "desc": "N\u00facleo considerado o mais poderoso da Am\u00e9rica do Norte. Sens\u00edvel ao perigo, emite um som grave de alerta.", "icon": "\ud83d\udc8e", "name": "Serpente Chifruda", "owner": "Isolt Sayre e muitos estudantes da Casa Serpente Chifruda", "rank": 4, "rarity": "epic", "skill": "Magia Cerebral, Alerta de Perigo", "type": "\u00c9pico"}, "Serpente Chifruda")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Serpente Chifruda</h3>
                <div class="rarity-badge">E</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸ’</span>
                
            </div>

            
            <div class="card-footer-type">
                Ã‰pico
            </div>
            

        </div>
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card epic" title="Clique para saber mais" data-name="Pelo de Gato Wampus"
            data-rank="4"
            data-affinity=""
            data-owner="Guerreiros Wampus"
            onclick='openModal({"badge": "E", "curiosity": "Dizem que apenas bruxos de grande coragem conseguem domar uma varinha de Wampus.", "desc": "N\u00facleo favorito dos guerreiros Cherokee. Produz varinhas de grande for\u00e7a, dif\u00edceis de controlar e manejar.", "icon": "\ud83d\ude3c", "name": "Pelo de Gato Wampus", "owner": "Guerreiros Wampus", "rank": 4, "rarity": "epic", "skill": "Magia de Combate, For\u00e7a", "type": "\u00c9pico"}, "Pelo de Gato Wampus")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Pelo de Gato Wampus</h3>
                <div class="rarity-badge">E</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸ˜¼</span>
                
            </div>

            
            <div class="card-footer-type">
                Ã‰pico
            </div>
            

        </div>
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card epic" title="Clique para saber mais" data-name="Pena de PÃ¡ssaro-TrovÃ£o"
            data-rank="4"
            data-affinity=""
            data-owner="Shikoba Wolfe"
            onclick='openModal({"badge": "E", "curiosity": "Muitas vezes dispara maldi\u00e7\u00f5es preventivamente quando sente perigo, agindo por conta pr\u00f3pria.", "desc": "Poderoso, mas dif\u00edcil de dominar. Varinhas com este n\u00facleo s\u00e3o supremas em Transfigura\u00e7\u00e3o e podem sentir perigo sobrenatural.", "icon": "\ud83c\udf29\ufe0f", "name": "Pena de P\u00e1ssaro-Trov\u00e3o", "owner": "Shikoba Wolfe", "rank": 4, "rarity": "epic", "skill": "Transfigura\u00e7\u00e3o, Magia Elemental", "type": "\u00c9pico"}, "Pena de PÃ¡ssaro-TrovÃ£o")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Pena de PÃ¡ssaro-TrovÃ£o</h3>
                <div class="rarity-badge">E</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸŒ©ï¸</span>
                
            </div>

            
            <div class="card-footer-type">
                Ã‰pico
            </div>
            

        </div>
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card rare" title="Clique para saber mais" data-name="Fibra de Snallygaster"
            data-rank="3"
            data-affinity=""
            data-owner="Isolt Sayre, James Steward"
            onclick='openModal({"badge": "R", "curiosity": "Menos famoso que a Serpente Chifruda, mas extremamente confi\u00e1vel.", "desc": "Extra\u00eddo de uma criatura drag\u00e3o-p\u00e1ssaro nativa dos EUA. Um n\u00facleo s\u00f3lido, usado pelos primeiros fundadores.", "icon": "\ud83e\udd8e", "name": "Fibra de Snallygaster", "owner": "Isolt Sayre, James Steward", "rank": 3, "rarity": "rare", "skill": "Magia Robusta", "type": "Raro"}, "Fibra de Snallygaster")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Fibra de Snallygaster</h3>
                <div class="rarity-badge">R</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸ¦</span>
                
            </div>

            
            <div class="card-footer-type">
                Raro
            </div>
            

        </div>
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card epic" title="Clique para saber mais" data-name="Pelo de Rougarou"
            data-rank="4"
            data-affinity=""
            data-owner="Violetta Beauvais (Varinheira)"
            onclick='openModal({"badge": "E", "curiosity": "Dizem que varinhas de Rougarou s\u00e3o \"vamp\u00edricas\" por natureza, atra\u00eddas por sangue.", "desc": "N\u00facleo perigoso associado \u00e0 magia negra na Louisiana. Atra\u00eddo por bruxos que flertam com o mal.", "icon": "\ud83d\udc3a", "name": "Pelo de Rougarou", "owner": "Violetta Beauvais (Varinheira)", "rank": 4, "rarity": "epic", "skill": "Artes das Trevas, Sedu\u00e7\u00e3o", "type": "\u00c9pico"}, "Pelo de Rougarou")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Pelo de Rougarou</h3>
                <div class="rarity-badge">E</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸº</span>
                
            </div>

            
            <div class="card-footer-type">
                Ã‰pico
            </div>
            

        </div>
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card epic" title="Clique para saber mais" data-name="Cabelo de Veela"
            data-rank="4"
            data-affinity=""
            data-owner="Fleur Delacour"
            onclick='openModal({"badge": "E", "curiosity": "A av\u00f3 de Fleur era uma Veela e doou o fio de cabelo. Funciona magnificamente para seu dono, falha para outros.", "desc": "N\u00facleo de natureza muito temperamental e vol\u00e1til. Ollivander evita us\u00e1-lo pois considera as varinhas muito sens\u00edveis.", "icon": "\ud83d\udc83", "name": "Cabelo de Veela", "owner": "Fleur Delacour", "rank": 4, "rarity": "epic", "skill": "Charme, Temperamento forte", "type": "\u00c9pico"}, "Cabelo de Veela")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Cabelo de Veela</h3>
                <div class="rarity-badge">E</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸ’ƒ</span>
                
            </div>

            
            <div class="card-footer-type">
                Ã‰pico
            </div>
            

        </div>
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card rare" title="Clique para saber mais" data-name="Espinha de Monstro do Rio"
            data-rank="3"
            data-affinity=""
            data-owner="Thiago Quintana"
            onclick='openModal({"badge": "R", "curiosity": "O segredo de como extrair a espinha morreu com Quintana, tornando essas varinhas extintas.", "desc": "Extra\u00eddo do Monstro do Rio White pelo varinheiro Thiago Quintana. Produzia varinhas longas e elegantes, de grande poder.", "icon": "\ud83d\udc1f", "name": "Espinha de Monstro do Rio", "owner": "Thiago Quintana", "rank": 3, "rarity": "rare", "skill": "Feiti\u00e7os de For\u00e7a e Eleg\u00e2ncia", "type": "Raro"}, "Espinha de Monstro do Rio")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Espinha de Monstro do Rio</h3>
                <div class="rarity-badge">R</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸŸ</span>
                
            </div>

            
            <div class="card-footer-type">
                Raro
            </div>
            

        </div>
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card rare" title="Clique para saber mais" data-name="Coral"
            data-rank="3"
            data-affinity=""
            data-owner="Gregorovitch"
            onclick='openModal({"badge": "R", "curiosity": "Reage mal em ambientes muito secos ou longe do mar.", "desc": "Material marinho usado pelo famoso varinheiro Gregorovitch. Combina com bruxos ligados \u00e0 \u00e1gua e adaptabilidade.", "icon": "\ud83e\udeb8", "name": "Coral", "owner": "Gregorovitch", "rank": 3, "rarity": "rare", "skill": "Magia Elemental (\u00c1gua)", "type": "Raro"}, "Coral")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Coral</h3>
                <div class="rarity-badge">R</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸª¸</span>
                
            </div>

            
            <div class="card-footer-type">
                Raro
            </div>
            

        </div>
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card common" title="Clique para saber mais" data-name="Bigode de Trasgo"
            data-rank="1"
            data-affinity=""
            data-owner="Sir Cadogan"
            onclick='openModal({"badge": "C", "curiosity": "Diz a lenda que a varinha de Sir Cadogan explodiu.", "desc": "Considerado um material inferior e de pouca sutileza. Produz magia bruta, barulhenta e pouco confi\u00e1vel.", "icon": "\ud83e\udddf", "name": "Bigode de Trasgo", "owner": "Sir Cadogan", "rank": 1, "rarity": "common", "skill": "For\u00e7a bruta", "type": "Comum"}, "Bigode de Trasgo")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Bigode de Trasgo</h3>
                <div class="rarity-badge">C</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸ§Ÿ</span>
                
            </div>

            
            <div class="card-footer-type">
                Comum
            </div>
            

        </div>
        
        <!-- Card GenÃ©rico (Madeira ou NÃºcleo) -->
        <div class="wood-card uncommon" title="Clique para saber mais" data-name="Chifre de Jackalope"
            data-rank="2"
            data-affinity=""
            data-owner="Desconhecido"
            onclick='openModal({"badge": "I", "curiosity": "N\u00e3o produz muita for\u00e7a bruta, mas \u00e9 excelente para feiti\u00e7os de velocidade.", "desc": "N\u00facleo usado por varinheiros americanos. Jackalopes s\u00e3o coelhos com chifres, criaturas \u00e1geis.", "icon": "\ud83d\udc30", "name": "Chifre de Jackalope", "owner": "Desconhecido", "rank": 2, "rarity": "uncommon", "skill": "Feiti\u00e7os r\u00e1pidos", "type": "Incomum"}, "Chifre de Jackalope")'>

            <div class="card-header">
                <span class="mini-icon">
                    ğŸ”®
                </span>
                <h3 class="wood-name">Chifre de Jackalope</h3>
                <div class="rarity-badge">I</div>
            </div>

            <div class="wood-affinity">
                
                <span style="font-size: 2rem;">ğŸ°</span>
                
            </div>

            
            <div class="card-footer-type">
                Incomum
            </div>
            

        </div>
        
    </section>

    <!-- Modal Structure -->
    <div id="infoModal" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Nome da Madeira</h2>
                <button class="modal-close" onclick="closeModal(null)">&times;</button>
            </div>
            <div class="modal-body">
                <span class="detail-label">DescriÃ§Ã£o</span>
                <p id="modalDesc" class="detail-value">...</p>

                <span class="detail-label">Especialidade / Perfil</span>
                <p id="modalSkill" class="detail-value">...</p>

                <span class="detail-label">Donos NotÃ¡veis</span>
                <p id="modalOwner" class="detail-value">...</p>
            </div>
            <div class="modal-footer">
                <p id="modalCuriosity">Did you know?...</p>
            </div>
        </div>
    </div>

    <script>
        // --- LÃ³gica do Modal ---
        function openModal(details, name) {
            document.getElementById('modalTitle').textContent = name;
            document.getElementById('modalDesc').textContent = details.desc;
            document.getElementById('modalSkill').textContent = details.skill;
            document.getElementById('modalOwner').textContent = details.owner;
            document.getElementById('modalCuriosity').textContent = details.curiosity;

            const modal = document.getElementById('infoModal');
            modal.classList.add('open');
        }

        function closeModal(event) {
            if (!event || event.target.id === 'infoModal') {
                document.getElementById('infoModal').classList.remove('open');
            }
        }

        // --- LÃ³gica de Filtros e OrdenaÃ§Ã£o ---
        function updateView() {
            // Elemento pode nÃ£o existir se estivermos na aba Cores
            const affinitySelect = document.getElementById('filterAffinity');
            const affinityFilter = affinitySelect ? affinitySelect.value : 'all';

            const wizardFilter = document.getElementById('filterWizard').value;
            const sortCriterion = document.getElementById('sortSelect').value;
            const grid = document.getElementById('woodsGrid');
            const cards = Array.from(grid.getElementsByClassName('wood-card'));

            cards.forEach(card => {
                const cardAffinities = card.dataset.affinity || "";
                const cardOwners = card.dataset.owner || "";

                let show = true;

                if (affinityFilter !== 'all' && !cardAffinities.includes(affinityFilter)) {
                    show = false;
                }

                if (wizardFilter !== 'all') {
                    if (!cardOwners.includes(wizardFilter)) {
                        show = false;
                    }
                }

                if (show) {
                    card.style.display = 'flex';
                } else {
                    card.style.display = 'none';
                }
            });

            // OrdenaÃ§Ã£o (mantida)
            const visibleCards = cards.filter(c => c.style.display !== 'none');

            visibleCards.sort((a, b) => {
                const rankA = parseInt(a.dataset.rank) || 0;
                const rankB = parseInt(b.dataset.rank) || 0;

                if (sortCriterion === 'az') return a.dataset.name.localeCompare(b.dataset.name);
                if (sortCriterion === 'za') return b.dataset.name.localeCompare(a.dataset.name);

                if (sortCriterion === 'rank_asc') {
                    if (rankA === rankB) return a.dataset.name.localeCompare(b.dataset.name);
                    return rankA - rankB;
                }
                if (sortCriterion === 'rank_desc') {
                    if (rankA === rankB) return a.dataset.name.localeCompare(b.dataset.name);
                    return rankB - rankA;
                }
            });

            grid.innerHTML = '';
            visibleCards.forEach(card => grid.appendChild(card));
            cards.forEach(card => {
                if (card.style.display === 'none') grid.appendChild(card);
            });
        }

        // Garante a ordenaÃ§Ã£o inicial ao carregar a pÃ¡gina
        window.addEventListener('load', updateView);
    </script>

    

</div>

        </main>

        <footer style="text-align: center; margin-top: 4rem; color: var(--text-muted); font-size: 0.9rem;">
            <p>&copy; 2025 Wiki MÃ¡gica. Feito com FeitiÃ§aria e Python.</p>
        </footer>
    </div>
</body>
</html>